<html lang="en">

<head>

  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <title>FriendFinder Survey</title>

  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

  <!-- Font Awesome icons -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">

  <!-- Chosen -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>

</head>



<body>



  <div class="container">

    <h2 class="title">Survey Questions</h2>
    <hr>

    <h3 class="title"><strong>About You</strong></h3>
    <h4 class="Qs">Name <strong>(Required)</strong></h4>
    <input type="text" id="name" class="form-control" placeholder="Name" required>

    <h4 class="Qs">Photo Link <strong>(Required)</strong></h4>
    <input type="text" id="photo" class="form-control" placeholder="Submit photo link" required>

    <h4 class="Qs">What is your favorite programming language?<strong>(Required)</strong></h4>
    <input type="text" id="favLang" class="form-control" placeholder="Favorite coding language" required>

    <h4 class="Qs">Link to your GitHub or portfolio<strong>(Optional)</strong></h4>
    <input type="text" id="gitLink" class="form-control" placeholder="Github or portfolio link">

    <hr>

    <!-- First Question -->

    <h2 class="title"><strong>Question 1</strong></h2>

    <!-- Display the question to the user -->
    <h3 class="Qs">Your mind is always buzzing with unexplored ideas and plans.</h3>

    <!-- Drop down list of options for the user to choosen from (1 thru 5*)-->
    <select class="chosen-select" id="Q1">


      <option value=""></option>

      <option value="1">1 (Strongly Disagree)</option>

      <option value="2">2</option>

      <option value="3">3</option>

      <option value="4">4</option>

      <option value="5">5 (Strongly Agree)</option>

    </select>

    <!-- Second Question -->

    <h2 class="title"><strong>Question 2</strong></h2>

    <!-- Display the question to the user -->
    <h3 class="Qs">Generally speaking, you rely more on your experience than your imagination.</h3>

    <!-- Drop down list of options for the user to choosen from (1 thru 5*)-->
    <select class="chosen-select" id="Q2">

      <option value=""></option>

      <option value="1">1 (Strongly Disagree)</option>

      <option value="2">2</option>

      <option value="3">3</option>

      <option value="4">4</option>

      <option value="5">5 (Strongly Agree)</option>

    </select>


    <!-- Third Question -->

    <h2 class="title"><strong>Question 3</strong></h2>

    <!-- Display the question to the user -->
    <h3 class="Qs">You find it easy to stay relaxed and focused even when there is some pressure.</h3>

    <!-- Drop down list of options for the user to choosen from (1 thru 5*)-->
    <select class="chosen-select" id="Q3">

      <option value=""></option>

      <option value="1">1 (Strongly Disagree)</option>

      <option value="2">2</option>

      <option value="3">3</option>

      <option value="4">4</option>

      <option value="5">5 (Strongly Agree)</option>

    </select>

    <!-- Fourth Question -->

    <h2 class="title"><strong>Question 4</strong></h2>

    <!-- Display the question to the user -->
    <h3 class="Qs">You rarely do something just out of sheer curiosity.</h3>

    <!-- Drop down list of options for the user to choosen from (1 thru 5*)-->
    <select class="chosen-select" id="Q4">

      <option value=""></option>

      <option value="1">1 (Strongly Disagree)</option>

      <option value="2">2</option>

      <option value="3">3</option>

      <option value="4">4</option>

      <option value="5">5 (Strongly Agree)</option>

    </select>


    <!-- Fifth Question -->

    <h2 class="title"><strong>Question 5</strong></h2>

    <!-- Display the question to the user -->
    <h3 class="Qs">You are well experienced with version control programs such as Github</h3>

    <!-- Drop down list of options for the user to choosen from (1 thru 5*)-->
    <select class="chosen-select" id="Q5">

      <option value=""></option>

      <option value="1">1 (Strongly Disagree)</option>

      <option value="2">2</option>

      <option value="3">3</option>

      <option value="4">4</option>

      <option value="5">5 (Strongly Agree)</option>

    </select>


    <!-- Sixth Question -->

    <h2 class="title"><strong>Question 6</strong></h2>

    <!-- Display the question to the user -->
    <h3 class="Qs">You believe pseudo coding is important in all code</h3>

    <!-- Drop down list of options for the user to choosen from (1 thru 5*)-->
    <select class="chosen-select" id="Q6">

      <option value=""></option>

      <option value="1">1 (Strongly Disagree)</option>

      <option value="2">2</option>

      <option value="3">3</option>

      <option value="4">4</option>

      <option value="5">5 (Strongly Agree)</option>

    </select>

    <!-- Seventh Question -->


    <h2 class="title"><strong>Question 7</strong></h2>

    <!-- Display the question to the user -->
    <h3 class="Qs">In a discussion, truth should be more important than people’s sensitivities.</h3>

    <!-- Drop down list of options for the user to choosen from (1 thru 5*)-->
    <select class="chosen-select" id="Q7">

      <option value=""></option>

      <option value="1">1 (Strongly Disagree)</option>

      <option value="2">2</option>

      <option value="3">3</option>

      <option value="4">4</option>

      <option value="5">5 (Strongly Agree)</option>

    </select>

    <!-- Eighth Question -->

    <h2 class="title"><strong>Question 8</strong></h2>

    <!-- Display the question to the user -->
    <h3 class="Qs">You prefer to work on the backend programming the night away</h3>

    <!-- Drop down list of options for the user to choosen from (1 thru 5*)-->
    <select class="chosen-select" id="Q8">

      <option value=""></option>

      <option value="1">1 (Strongly Disagree)</option>

      <option value="2">2</option>

      <option value="3">3</option>

      <option value="4">4</option>

      <option value="5">5 (Strongly Agree)</option>

    </select>

    <!-- Ninth Question -->

    <h2 class="title"><strong>Question 9</strong></h2>

    <!-- Display the question to the user -->
    <h3 class="Qs">You think that everyone’s views should be respected regardless of whether they are supported by
      facts or not.</h3>

    <!-- Drop down list of options for the user to choosen from (1 thru 5*)-->
    <select class="chosen-select" id="Q9">

      <option value=""></option>

      <option value="1">1 (Strongly Disagree)</option>

      <option value="2">2</option>

      <option value="3">3</option>

      <option value="4">4</option>

      <option value="5">5 (Strongly Agree)</option>

    </select>

    <!-- Tenth Question -->

    <h2 class="title"><strong>Question 10</strong></h2>

    <!-- Display the question to the user -->
    <h3 class="Qs">Prefer frontend programing and languages</h3>

    <!-- Drop down list of options for the user to choosen from (1 thru 5*)-->
    <select class="chosen-select" id="Q10">

      <option value=""></option>

      <option value="1">1 (Strongly Disagree)</option>

      <option value="2">2</option>

      <option value="3">3</option>

      <option value="4">4</option>

      <option value="5">5 (Strongly Agree)</option>

    </select>

    <br>
    <br>

    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fas fa-clipboard-check"></i>
      Submit</button>

    <hr>
    <footer class="footer">

      <div class="container">

        <p>
          <!-- Referencing the APIs made in the api routes js file -->
          <a href="/api/pals">API Friends List</a> | <a href="https://github.com/Timwestberg/FriendFinder">GitHub Repo</a>

        </p>

      </div>

    </footer>

  </div>

  <!-- Modal to be displayed to the user -->
  <div id="results-modal" class="modal fade" role="dialog">

    <div class="modal-dialog">

      <!-- Modal content including thhe user's best match information-->
      <div class="modal-content">

        <!-- Head of the modal showing the title of the selection -->
        <div class="modal-header">

          <button type="button" class="close" data-dismiss="modal">&times;</button>

          <h2 class="modal-title">

            <strong>Best Match</strong>

          </h2>

        </div>

        <!-- Body of the modal || rendered data pulls into name, photo, favorite coding langauge and possibly portolfio link? -->
        <div class="modal-body">

          <h2 id="match-name"></h2>

          <h3 id="match-github"></h3>

          <img id="match-img" class="img-fluid" src="" alt="Coder's Image">

          <h3 id="match-lang"></h3>

        </div>

        <!-- Footer of the modal || Contains the close button of the form, for the user to exit after viewing their match -->
        <div class="modal-footer">

          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>

        </div>

      </div>

    </div>

  </div>

  <!-- =================================Styling ===================================================== -->

  <style>
    @import url('https://fonts.googleapis.com/css?family=Economica|Playfair+Display+SC|Source+Code+Pro');

*
{
	text-shadow: 0px 0px 2px rgba(0, 0, 0, 0.65);
  background-color: #b6c19e;
}


    .chosen-select {
      border-radius: 59px 59px 59px 59px;
      -moz-border-radius: 59px 59px 59px 59px;
      -webkit-border-radius: 59px 59px 59px 59px;
      border: 0px solid #000000;
      -webkit-box-shadow: 0px 4px 31px -5px rgba(0,0,0,0.75);
      -moz-box-shadow: 0px 4px 31px -5px rgba(0,0,0,0.75);
      box-shadow: 0px 4px 31px -5px rgba(0,0,0,0.75);
      background-color: white;
      text-shadow: none;
      text-align:center;
      font-family: 'Economica', sans-serif;
      font-size: 28px;
    }

    .chosen-select:hover {
      cursor:-webkit-grab;
      background-color: rgb(252, 255, 96);
    }

        .Qs {
      font-family: 'Source Code Pro', monospace;
    }

    .title {
      font-family: 'Playfair Display SC', serif;
      text-shadow: 0px 0px 5px rgba(0, 0, 0, 0.84);
      -webkit-text-fill-color: black;
      -webkit-text-stroke-color: #0aad77;
      -webkit-text-stroke-width: 2.00px; 
	    font-size: 39px;
    }


    #name {
      border-radius: 59px 59px 59px 59px;
      -moz-border-radius: 59px 59px 59px 59px;
      -webkit-border-radius: 59px 59px 59px 59px;
      border: 0px solid #000000;
      -webkit-box-shadow: 10px 10px 44px -12px rgba(0,0,0,0.75);
      -moz-box-shadow: 10px 10px 44px -12px rgba(0,0,0,0.75);
      box-shadow: 10px 10px 44px -12px rgba(0,0,0,0.75);

    }

    #photo {
      border-radius: 59px 59px 59px 59px;
      -moz-border-radius: 59px 59px 59px 59px;
      -webkit-border-radius: 59px 59px 59px 59px;
      border: 0px solid #000000;
      -webkit-box-shadow: 10px 10px 44px -12px rgba(0,0,0,0.75);
      -moz-box-shadow: 10px 10px 44px -12px rgba(0,0,0,0.75);
      box-shadow: 10px 10px 44px -12px rgba(0,0,0,0.75);

    }

    #favLang{
      border-radius: 59px 59px 59px 59px;
      -moz-border-radius: 59px 59px 59px 59px;
      -webkit-border-radius: 59px 59px 59px 59px;
      border: 0px solid #000000;
      -webkit-box-shadow: 10px 10px 44px -12px rgba(0,0,0,0.75);
      -moz-box-shadow: 10px 10px 44px -12px rgba(0,0,0,0.75);
      box-shadow: 10px 10px 44px -12px rgba(0,0,0,0.75);

    }

    #gitlink {
      border-radius: 59px 59px 59px 59px;
      -moz-border-radius: 59px 59px 59px 59px;
      -webkit-border-radius: 59px 59px 59px 59px;
      border: 0px solid #000000;
      -webkit-box-shadow: 10px 10px 44px -12px rgba(0,0,0,0.75);
      -moz-box-shadow: 10px 10px 44px -12px rgba(0,0,0,0.75);
      box-shadow: 10px 10px 44px -12px rgba(0,0,0,0.75);

    }

    #submit {
      border-radius: 59px 59px 59px 59px;
      -moz-border-radius: 59px 59px 59px 59px;
      -webkit-border-radius: 59px 59px 59px 59px;
      border: 0px solid #000000;
      font-family: 'Playfair Display SC', serif;
      font-size: 28px;
      background-color: #218ba5;
      
    }

    #submit:hover {
      -webkit-box-shadow: inset 10px 10px 42px -18px rgba(0,0,0,0.77);
      -moz-box-shadow: inset 10px 10px 42px -18px rgba(0,0,0,0.77);
      box-shadow: inset 10px 10px 42px -18px rgba(0,0,0,0.77);
    }


      </style>






  <!-- ===============================Begining of javascript========================================== -->
  <script type="text/javascript">
    // Capture the form inputs
    $("#submit").on("click", function (event) {

      event.preventDefault();

      // Form validation
      function validateForm() {

        let isValid = true;

        // Create a for loop for all class with form-conrol to make sure there was a suiteable answer inputed by user || Bootstrap
        $(".form-control").each(function () {

          if ($(this).val() === "") {

            isValid = false;

          }

        });

        // Create a for loop for all class with chosen-select to make sure there was a suiteable answer inputed by user || Non Bootstrap
        $(".chosen-select").each(function () {

          if ($(this).val() === "") {

            isValid = false;

          }

        });
        //  If all input fields on the form are acceptable allow the application to move on 
        return isValid;
      }

      // If all required fields are filled allow the post to continue|| if not stop the process before another express function runs
      if (validateForm()) {

        // Create an object for the user's score || This placing the pal's data from the form and plugs it into an identical structure as set in html routes js file
        let newData = {

          // Variable storing the name of the user
          name: $("#name").val(),

          // Variable storing the photo from the user
          photo: $("#photo").val(),

          // Variable for storing the user's favorite coding language
          favLang: $("#favLang").val(),

          // Variable for storing the github link if the User decides to include it
          github: $("#gitLink").val(),

          // Variable for storing the user's answer to the questions in the survey-form
          scores: [

            $("#Q1").val(),

            $("#Q2").val(),

            $("#Q3").val(),

            $("#Q4").val(),

            $("#Q5").val(),

            $("#Q6").val(),

            $("#Q7").val(),

            $("#Q8").val(),

            $("#Q9").val(),

            $("#Q10").val()

          ]

        };

        console.log("This is dipslaying from survey: " + newData)

        // AJAX post the data to the pals API.
        $.post("/api/pals", newData, function (data) {

          // Grab the result from the AJAX post so that the best match's name and photo are displayed.
          $("#match-name").text(data.name);

          $("#match-img").attr("src", data.photo);

          $("#match-lang").text(data.favLang);

          $("#match-github").text(data.github);



          // Show the modal with the best match
          $("#results-modal").modal("toggle");

        });

      } else {

        //   if not stop the process before another express function runs
        alert("Please fill out all fields before submitting!");

      }

    });
  </script>

</body>

</html>
